{"version":3,"sources":["logo.svg","Pin.js","User.js","App.js","store/reducer.js","store/logMiddleware.js","store/index.js","serviceWorker.js","index.js"],"names":["module","exports","Pin","props","coords","anchor","distance","infos","name","condition","top","left","id","className","href","onClick","event","preventDefault","target","parentNode","classList","toggle","nextSibling","title","rel","style","position","transform","console","log","pin","pins","document","querySelectorAll","length","forEach","remove","show","querySelector","elem","User","App","state","lat","long","userPosition","accuracy","getUserLocation","latitude","this","longitude","userLat","userLong","currentState","navigator","geolocation","getCurrentPosition","pos","info","crd","setState","err","warn","code","message","enableHighAccuracy","timeout","maximumAge","getDistanceBetween","pinLat","pinLong","distanceLat","Math","PI","distanceLong","a","sin","cos","atan2","sqrt","round","providers","osm","x","y","z","s","String","fromCharCode","wikimedia","dpr","stamen","watercolor","light","src","logo","alt","center","zoom","provider","onclick","e","offset","map","index","key","React","Component","initialState","reducer","action","type","logMiddleware","store","next","enhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","createStore","Boolean","location","hostname","match","rootComponent","ReactDOM","render","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a2632b91.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.aba790e0.svg\";","import React from 'react';\n\nimport './App.css';\n\nconst Pin = (props) => {\n  const coords = props.anchor;\n  const distance = props.distance;\n  const { name, condition } = props.infos;\n  const { top, left, id } = props;\n\n  const infosCssClass = (event) => {\n    console.log('I M YOUR PIN BITCH :',event.target);\n    // get the clicked pin\n    const pin = event.target;\n    const pins = document.querySelectorAll('.selected');\n    pins.length && pins.forEach(pin => pin.classList.remove('selected'));\n    //\n    pin.classList.toggle('selected');\n    // // // // // //\n    // get all the elements with the .show class\n    const show = document.querySelectorAll('.show');\n    // get the element width the .park-id class\n    const div = document.querySelector(`.park-${id}`);\n    // add or remove the .show class on div\n    div.classList.toggle('show');\n    // remove .show class if exist\n    show.length && show.forEach(elem => elem.classList.remove('show'));\n  }\n\n  const closeInfoPanel = (event) => {\n    event.preventDefault();\n    event.target.parentNode.classList.toggle('show');\n    // toggle the selected class on the opened pin when closing the infos panel\n    event.target.parentNode.nextSibling.classList.toggle('selected');\n  }\n\n  return (\n    <>\n      <div className={`infos park-${id}`}>\n        <a href=\"#close\" className=\"infos-btn-close\" onClick={closeInfoPanel}>&#10005;</a>\n        <h2>{name}</h2>\n        <section>\n          <p>Ce skatepark est à <strong>{distance} en jetpack</strong> de votre position actuelle</p>\n          <p>Note : {condition}/5</p>\n          <p>Commentaire :</p>\n        </section>\n        <div className=\"actions\">\n          <a\n            title=\"open maps on mobile\"\n            className=\"btn mobile-only\"\n            href={`geo:${coords[0]},${coords[1]}`}\n            target=\"_blank\" rel=\"noopener noreferrer\"\n          >FIND YOUR WAY</a>\n          <a \n            title=\"open maps on browser\"\n            className=\"btn browser-only\"\n            href={`https://maps.google.com/?q=${coords[0]},${coords[1]}`}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >FIND YOUR WAY WITH MAPS</a>\n        </div>\n      </div>\n      <div\n        title={`${name} à ${distance} de votre position`}\n        style={{ position: 'absolute', transform: `translate(${left}px, ${top}px)` }}\n        className=\"pin\"\n        onClick={infosCssClass}\n      >{name}</div>\n    </>\n  )\n}\n\nexport default Pin;\n","import React from 'react';\n\nimport './App.css';\n\nconst User = (props) => {\n  const { top, left, id } = props;\n  return (\n    <>\n      <div\n        id={id}\n        title={\"this is you!\"}\n        style={{ position: 'absolute', transform: `translate(${left}px, ${top}px)` }}\n        className=\"user\"\n      >You</div>\n    </>\n  )\n}\n\nexport default User;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Map from 'pigeon-maps';\nimport Pin from './Pin';\nimport User from './User';\n\nimport './App.css';\nimport logo from './logo.svg';\n\nclass App extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      lat: 0,\n      long: 0,\n      userPosition: {\n        lat: 0,\n        long: 0,\n      },\n      accuracy: 0,\n      getUserLocation: false,\n      pins: [\n        {\n          id: 0,\n          lat: 49.087707,\n          long: 2.505758,\n          infos: {\n            name: 'Skatepark de marly-la-ville',\n            condition: 5\n          }\n        },\n        {\n          id: 1,\n          lat: 49.087965,\n          long: 2.559108,\n          infos: {\n            name: 'Skatepark de Saint Witz',\n            condition: 5\n          }\n        },\n        {\n          id: 2,\n          lat: 49.0330887,\n          long: 2.4817129,\n          infos: {\n            name: 'Skatepark de Goussainville',\n            condition: 3,\n          }\n        },\n        {\n          id: 3,\n          lat: 49.0511821,\n          long: 2.5099468,\n          infos: {\n            name: 'Skatepark de Louvres',\n            condition: 2,\n          }\n        },\n        {\n          id: 4,\n          lat: 48.8301638,\n          long: 2.5244394,\n          infos: {\n            name: 'Skatepark de Brie sur Marne',\n            condition: 5,\n          }\n        }\n      ]\n    }\n  }\n\n  render() {\n\n    const latitude = this.state.lat;\n    const longitude = this.state.long;\n    const userLat = this.state.userPosition.lat;\n    const userLong = this.state.userPosition.long;\n    const accuracy = this.state.accuracy;\n    const { pins } = this.state;\n    const { getUserLocation } = this.state;\n\n    let currentState = this;\n\n    const options = {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0\n    };\n\n    function success(pos) {\n      console.info(\"I'm watching your position\");\n      const crd = pos.coords;\n      if(!getUserLocation) {\n        currentState.setState(\n          {\n            lat: crd.latitude,\n            long: crd.longitude,\n            accuracy: crd.accuracy,\n            getUserLocation: true,\n            userPosition: {\n              lat: crd.latitude,\n              long: crd.longitude, \n            }\n          }\n        )\n      } else {\n        currentState.setState(\n          {\n            userPosition: {\n              lat: crd.latitude,\n              long: crd.longitude, \n            }\n          }\n        )\n      }\n    }\n\n    function error(err) {\n      console.warn(`ERREUR (${err.code}): ${err.message}`);\n    }\n\n    navigator.geolocation.getCurrentPosition(success, error, options);\n\n    // compute the distance in meters or kilometers between two POI.\n    const getDistanceBetween = (userLat, userLong, pinLat, pinLong) => {\n      const Radius = 6371; // for km (change this const to get miles)\n      const distanceLat = (userLat - pinLat) * Math.PI / 180;\n      const distanceLong = (userLong - pinLong) * Math.PI / 180;\n      const a = Math.sin(distanceLat / 2) * Math.sin(distanceLat / 2) +\n        Math.cos(userLat * Math.PI / 180) * Math.cos(pinLat * Math.PI / 180) *\n        Math.sin(distanceLong / 2) * Math.sin(distanceLong / 2);\n      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n      const distance = Radius * c;\n      if (distance > 1) return Math.round(distance) + \"km\";\n      else if (distance <= 1) return Math.round(distance * 1000) + \"m\";\n      return distance;\n    }\n    //\n    const providers = {\n      osm: (x, y, z) => {\n        const s = String.fromCharCode(97 + (x + y + z) % 3)\n        return `https://${s}.tile.openstreetmap.org/${z}/${x}/${y}.png`\n      },\n      wikimedia: (x, y, z, dpr) => {\n        return `https://maps.wikimedia.org/osm-intl/${z}/${x}/${y}${dpr >= 2 ? '@2x' : ''}.png`\n      },\n      stamen: (x, y, z, dpr) => {\n        return `https://stamen-tiles.a.ssl.fastly.net/terrain/${z}/${x}/${y}${dpr >= 2 ? '@2x' : ''}.jpg`\n      },\n      watercolor: (x, y, z) => {\n        return `http://c.tile.stamen.com/watercolor/${z}/${x}/${y}.jpg`\n      },\n      light: (x, y, z) => {\n        return `http://a.tile.stamen.com/toner/${z}/${x}/${y}.png`\n      }\n    }\n\n    return (\n      <div className=\"App\">\n        <header>\n          <h1><img className='header-logo' src={logo} alt=\"logo skateparks map\" /> Skateparks-map</h1>\n        </header>\n        <Map center={[latitude, longitude]} zoom={14} provider={providers['osm']} onclick={(e) => { console.log('coucou') }}>\n        <User\n            anchor={[userLat, userLong]}\n            offset={[8, 8]}\n            id=\"me\"\n          />\n          {pins.map((pin, index) => (\n            <Pin\n              distance={getDistanceBetween(latitude, longitude, pin.lat, pin.long)}\n              key={index}\n              anchor={[pin.lat, pin.long]}\n              offset={[12, 34]}\n              infos={pin.infos}\n              id={index}\n            />\n          ))}\n        </Map>\n        <footer>\n          <small title={`lat:${userLat} long:${userLong} acc:${accuracy} meters.`}>Beta V:0.0.3</small>\n        </footer>\n      </div>\n    )\n  }\n}\n\nexport default App;\n","// == Initial State\nconst initialState = {\n  message: 'Hello from the store',\n  coords: {\n    lat: 0,\n    long: 0,\n  }\n};\n\n// == Types\nconst PUSH_USER_COORDS = 'PUSH_USER_COORDS';\n\n// == Reducer\nconst reducer = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case PUSH_USER_COORDS:\n      return {\n        ...state,\n        coords: {\n          lat: action.lat,\n          long: action.long,\n        },\n      };\n\n    default:\n      return state;\n  }\n};\n\n// == Action Creators\n// export const doSomething = message => ({\n//   type: DO_SOMETHING,\n//   message,\n// });\n\n\n// == Selectors\n\n\n// == Export\nexport default reducer;\n","const logMiddleware = (store) => (next) => (action) => {\n  console.log('Je suis le middleware, et je laisse passer cette action: ', action);\n  next(action);\n\n  // // POUR EXEMPLE: Requetes avec Axios\n  // // Je dois réagir uniquement à certains types d'action\n  // switch (action.type) {\n  //   case FETCH_QQCHOSE:\n  //     axios.get(url)\n  //       .then(response => {\n  //         // Ici tu sais que tu as obtenu avec succès ta réponse\n  //         // Tu peux la récupérer dans response.data\n  //         const { data } = response.\n  //         // Il faut ensuite informer le reducer des nouvelles données reçues\n  //         store.dispatch(receivedQqchose(data));\n  //       })\n  //       .catch()\n  //   default:\n  //      next(action);\n  // }\n};\n\nexport default logMiddleware;\n","// == Import : npm\nimport { createStore, compose, applyMiddleware } from 'redux';\n\n// == Import : local\nimport reducer from '../store/reducer';\nimport logMiddleware from '../store/logMiddleware';\n\n// == Store\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst enhancers = composeEnhancers(\n  applyMiddleware(\n    logMiddleware,\n    // secondMiddleware,\n  ),\n);\n\nconst store = createStore(\n  reducer,\n  // preloadedState,\n  enhancers,\n);\n\n// == Export\nexport default store;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport './index.css';\nimport App from './App';\nimport store from './store'\nimport * as serviceWorker from './serviceWorker';\n\nconst rootComponent = (\n  <Provider store={store}>\n    <App />\n  </Provider>\n)\n\nReactDOM.render(rootComponent, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}